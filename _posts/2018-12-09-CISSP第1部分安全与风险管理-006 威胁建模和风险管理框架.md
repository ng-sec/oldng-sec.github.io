---
layout: post  
title: CISSP第1部分安全与风险管理-006 威胁建模和风险管理框架
date:  2018/12/09 20:30:33  
categories: 安全认证 
tags: CISSP   读书笔记
author: ng-sec  
---
* content  
{:toc}

![本节目标](http://800wifi.com/ng-sec/1544358548937.png)
# 1.威胁建模基本概念
- 什么是威胁建模？
威胁建模是潜在威胁被识别、分类和分析的一个安全流程。威胁建模在设计和开发过程中，可以作为一种**积极主动**的措施执行，而产品一旦被部署，就会被作为一种被动式措施。在这两种情况下，流程会识别潜在危害、发生的概率、问题优先级以及消除或减少威胁的手段。

- 为什么要做威胁建模？
**威胁建模的主动式方法**发生于系统开发的早期阶段，特别是在初始设计和规范建立阶段。这种类型的威胁建模也被称为**防御方式**。这种方式基于编码和制作流程中，并对威胁的预测和特定防御进行设计，而不是依靠部署之后的更新或打补丁。大多数情况下， 集成安全解决方案更符合成本效益， 比后面硬塞的方案更成功。遗憾的是，并不是所有的威胁都可以在设计阶段预测出来，所以仍然需要被动式的威胁建模来解决不可预见的问题。
**威胁建模的被动式方法**发生在产品被创建和部署之后。此部署可以在测试或实验室环境中， 或是指被部署到一般市场上。这种类型的威胁建模也被称为对抗方式。这种威胁建模的技术是道德黑客攻击、渗透测试、代码审查和模糊测试背后的核心概念。尽管这些流程通常有助于发现需要解决的缺陷和威胁，但遗憾的是，它们需要额外的编码，来增加到新的对策中。从长远来看， 回到设计阶段可能会产生更好的产品，但从头开始是非常昂贵的，并会造成产品发布时间的极大延迟。因此。捷径是在部署后精心制作需要增加到产品中的更新或补丁。这样的结果就是， 可能在牺牲了功能性和用户友好性的前提下，相比主动式威胁建模来说，也不会带来更有效的安全改进 。

- 威胁建模并不意味着是一个单独的事件
# 2. 识别威胁
可能的威胁几乎是无限的，所以使用一种结构化的方法来准确地识别相关威胁是很重要的。
- **一些组织使用以下三种方法中的一种或多种:**

  - 关注资产这种方法使用资产的估值结果，并试图识别对于宝贵资产的威胁。例如，可以评估一个特定的资产，以确定其是否容易受到攻击。如果资产寄存着数据，则可以评估访问控制来识别能够绕过身份认证或授权机制的威胁。

  - 关注攻击一些组织能够识别潜在的攻击者，并能够基于攻击者的目标识别他们所代表的威胁。例如，政府往往能够识别潜在的攻击者，井识别攻击者想要达到的目标。然后他们可以使用这种知识来识别并保护他们的相关资产。这种方法面临的一个挑战是，可能会出现以往未被视为一种威胁的新攻击者。

  - 关注软件如果一个组织开发了一个软件，则可能会考虑针对软件的潜在威胁。尽管几年前组织一般不自己开发软件，但如今这己非常常见。具体地说，大多数组织都有网络存在，许多都创建了自己的网页。精美的网页带来更多的流量，但他们也需要更复杂的编程，并会受到更多的威胁。

- **STRIDE威胁分类：**

   - 电子欺骗(Spoofing)：通过使用伪造身份获得对目标系统访问的攻击行为。电子欺骗可以用于IP地址、MAC 地址、用户名、系统名称、无线网络名称、电子邮件地址以及许多其他类型的逻辑标识。当攻击者将自己伪装成一个合法或授权的实体时，他们往往能够绕过针对未授权访问的过滤器和封锁。一旦电子欺骗攻击让攻击者成功访问目标系统，后续的滥用、数据盗窃或特权提升攻击就都可以发起。

   - 篡改(Tampering)：任何对数据进行未授权的更改或操纵的行为，不管是传输中的数据还是被存储的数据。使用篡改来伪造通信或改变静态信息。这种攻击是对完整性和可用性的侵害。

   - 否认(Repudiation)：用户或攻击者否认执行了一个动作或行为的能力。通常攻击者会否认攻击，以便保持合理的推读，从而不为自己的行为负责。否认攻击也可能会导致无辜的第三方因安全违规而受到指责。

   - 信息披露(lnforrnation disclose) ： 将私人、机密或受控信息揭露、传播给外部或未授权实体的行为。这可能包括客户身份信息、财务信息或自营业务操作细节。信息披露可以利用系统设计和实现错误，如未能删除调试代码、留下示例应用程序和账户、未对客户端可见内容的编程注释(如HTML 文档中的注释)进行净化或将过于详细的错误消息暴露给用户。

   - 拒绝服务(DoS): 指攻击试图阻止对资源的授权使用。这可以通过缺陷开发、连接重载或流量泛滥实现。DoS 攻击并不一定会导致对资源的完全中断; 而是会减少吞吐量或造成延迟，以阻碍对资源的有效利用。尽管大多数DoS 攻击都是暂时的，只在攻击者进行袭击时存在，但还是存在一些永久性的DoS 攻击。永久DoS 攻击可能涉及对数据集的破坏、使用恶意软件对软件进行替换，或强迫可以被打断或安装错误固件的固件flash操作。这些DoS攻击将造成系统的永久受损，使其不能使用简单的重启或通过等待攻击者结束而恢复正常操作。要从永久DoS 攻击中恢复过来，将需要进行完整的系统修复和备份恢复。

   - 权限提升(Elevation of privilege): 此攻击是指有限的用户账号被转换成拥有更大特权、权力和访问权的账户。这可能会通过盗窃或开发高级账户(如管理员或Root账户)凭证来实现。
 
 # 3.确定和用图表示潜在的攻击
 ![](http://800wifi.com/ng-sec/1544359392566.png)
 
 **如何通过用图例的方式来确定和表示潜在攻击呢？**

用数据流图表能更好地帮助理解资源和数据流动的关系。创建图表有助于详述商业任务、开发流程或工作活动中每个元素的功能和目的细节。一定要包括执行具体任务或操作的用户、处理器、应用程序、数据存储和所有其他的基本要素，这一点十分重要。该图表是一种高度概括， 不是对编码逻辑的详细评估。然而，如果系统更复杂，则需要创建多个图表，关注不同的焦点，并把细节进行不同程度的放大。

完成图表的创建后，要识别出图表中涉及的所有技术， 包括操作系统、应用程序和协议。需要具体到使用的版本号和更新/补丁级别。接着，识别可能对图表中每个元素发起的攻击。记住， 要考虑到各种形式的攻击，包括逻辑或技术、物理层面和社会层面的工具。例如，一定要包括电子欺骗、篡改和社交工程学。这个过程能很快帮助你进入威胁建模的下一阶段：执行消减分析。

# 4. 消减分析
- 执行消减分析是为了分解应用程序、系统或环境。
- 这个任务的目的是更好地理解产品逻辑及其与外部的交互元素。
- 分解解流程中，必须了解5个关键概念:
  - 信任边界
  - 数据流路径
  - 输入点
  - 特权操作
  - 安全立场和方法细节
# 5. 优先级和响应

因为威胁要通过威胁建模进行识别，所以需要规定额外活动来完善整个流程。下一步是全部威胁的记录归档。在文档编制中，应该对威胁的手段、目标和后果进行定义。要考虑实施某项开发可能需要的技术，以及列出潜在的对策和保障措施。编制文档后，要对威胁进行排序或定级。

每个威胁都会以下三种优先级标签中的一种进行定级：
1）使用 概率×潜在损失的排名：概率×潜在损失的排名技术能产生一个代表风险严重性的编号；
2）高/ 中/低评级。高/中/低的评级流程更加简单，每个威胁都会被标准为这三种优先级标签中的一种。

**3）DREAD 评级系统，基于对每种威胁的5个主要问题的回答:**
- 潜在破坏
- 再现性
- 可利用性
- 受影响用户
- 可发现性
然后根据答案来进行级别的评定

# 6. 风险管理框架
**如果将风险管理过程（识别、评估和处置）融合成一个操作的流程？**

我们已经涵盖了大量涉及总体的风险管理，以及特别是风险评估方面的资料。现在，你可能会问到自己：“如何将它们融合成一个可操作的流程？”这正是框架能够回答的方面。牛津英语词典将框架定义以系统、概念或文本为基础的基本结构。通过结合我们前面的风险管理定义，我们可以将风险管理框（RMF）定义为一个结构化的流程，它允许组织识别和评估风险，将其降低到可接受的水平，并确保其保持在该水平。实质上，RMF是风险管理的结构化方法。

**正如你会想到的：RMF是必不可缺的。**你作为一名安全专业人员，确保你的组织拥有适合的RMF能为你工作所用，是分成重要的。
- **NIST RMF SP800-37** 概述了以下应用于RMF流程的六步骤，它们是：
- 信息系统的分类
- 安全控制的选择
- 安全控制的实现
- 安全控制的评估
- 信息系统的授权
- 安全控制的监管